
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Proporción general de eventos injuriantes &#8212; Graficos_ei</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Ei_enfermeria';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Analisis de eventos injuriantes" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Graficos_ei - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Graficos_ei - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Analisis de eventos injuriantes
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Proporción general de eventos injuriantes</a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FEi_enfermeria.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Ei_enfermeria.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Proporción general de eventos injuriantes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Proporción general de eventos injuriantes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cantidad-de-eventos-simultaneos">Cantidad de eventos simultaneos</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proporcion-de-tiempo-con-eventos-por-paciente">Proporción de tiempo con eventos por paciente</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-eventos-injuriantes-y-escala-de-ranking-al-egreso">Relación entre eventos injuriantes y escala de Ranking al egreso</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kruskall-para-diferencias-entre-grupos-segun-la-escala-de-ranking">Kruskall para diferencias entre grupos segun la escala de ranking</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventos-con-la-hora">Eventos con la Hora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-eventos-injuriantes-y-medicacion">Relación entre eventos injuriantes y medicación</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;BASE DE DATOS 2025 - ACTUAL1.xlsx&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Paciente</th>
      <th>Horas</th>
      <th>Tiempo</th>
      <th>TAS</th>
      <th>TAD</th>
      <th>TAM</th>
      <th>FR</th>
      <th>FC</th>
      <th>SPO2</th>
      <th>T°</th>
      <th>Tamaño derecho</th>
      <th>Reacción derecha</th>
      <th>Tamaño  Izquierdo</th>
      <th>Reaccion Izquierda</th>
      <th>PIC</th>
      <th>Escala de glasgow</th>
      <th>Escala de rass</th>
      <th>Escala de ranking</th>
      <th>medicación</th>
      <th>Nombre del medicamento</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>16:00:00</td>
      <td>0 hora</td>
      <td>107</td>
      <td>60</td>
      <td>69</td>
      <td>16</td>
      <td>54</td>
      <td>100</td>
      <td>36.1</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>.</td>
      <td>15</td>
      <td>.</td>
      <td>0</td>
      <td>2</td>
      <td>.</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>17:00:00</td>
      <td>1 hora</td>
      <td>100</td>
      <td>60</td>
      <td>70</td>
      <td>15</td>
      <td>57</td>
      <td>100</td>
      <td>36.1</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>.</td>
      <td>15</td>
      <td>.</td>
      <td>0</td>
      <td>2</td>
      <td>.</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>18:00:00</td>
      <td>2 hora</td>
      <td>114</td>
      <td>74</td>
      <td>87</td>
      <td>13</td>
      <td>51</td>
      <td>100</td>
      <td>36.2</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>.</td>
      <td>15</td>
      <td>.</td>
      <td>0</td>
      <td>2</td>
      <td>.</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>19:00:00</td>
      <td>3 hora</td>
      <td>114</td>
      <td>76</td>
      <td>87</td>
      <td>10</td>
      <td>59</td>
      <td>99</td>
      <td>36.0</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>.</td>
      <td>15</td>
      <td>.</td>
      <td>0</td>
      <td>2</td>
      <td>.</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>20:00:00</td>
      <td>4 hora</td>
      <td>113</td>
      <td>67</td>
      <td>82</td>
      <td>11</td>
      <td>55</td>
      <td>100</td>
      <td>36.3</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>.</td>
      <td>15</td>
      <td>.</td>
      <td>0</td>
      <td>2</td>
      <td>.</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Esto es como un primer vistaso de los datos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Paciente &#39;, &#39;Horas &#39;, &#39;Tiempo&#39;, &#39;TAS &#39;, &#39;TAD &#39;, &#39;TAM  &#39;, &#39;FR &#39;, &#39;FC &#39;,
       &#39;SPO2&#39;, &#39;T°&#39;, &#39;Tamaño derecho &#39;, &#39;Reacción derecha &#39;,
       &#39;Tamaño  Izquierdo&#39;, &#39;Reaccion Izquierda&#39;, &#39;PIC &#39;, &#39;Escala de glasgow&#39;,
       &#39;Escala de rass&#39;, &#39;Escala de ranking&#39;, &#39;medicación &#39;,
       &#39;Nombre del medicamento &#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<section id="proporcion-general-de-eventos-injuriantes">
<h1>Proporción general de eventos injuriantes<a class="headerlink" href="#proporcion-general-de-eventos-injuriantes" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAS &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">110</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAD &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM  &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM  &#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FC &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">90</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR &#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;SPO2&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">93</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;T°&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">37</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1317
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">proporcion_general</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proporcion_general</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>89.59183673469387
</pre></div>
</div>
</div>
</div>
<p>En general el 89.6% de los registros presentaros al menos un evento injuriantes a lo largo del tiempo</p>
</section>
<section id="cantidad-de-eventos-simultaneos">
<h1>Cantidad de eventos simultaneos<a class="headerlink" href="#cantidad-de-eventos-simultaneos" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAS &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">110</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAD &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM  &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM  &#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FC &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">90</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR &#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR &#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;SPO2&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">93</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span>
    <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;T°&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAS&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">110</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAD&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TAM&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_FC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FC&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">90</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_FR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FR&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_SPO2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;SPO2&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">93</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_Temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;T°&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="n">tabla_eventos</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Paciente&#39;</span><span class="p">)[[</span>
    <span class="s1">&#39;Evento_TAS&#39;</span><span class="p">,</span> <span class="s1">&#39;Evento_TAD&#39;</span><span class="p">,</span> <span class="s1">&#39;Evento_TAM&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Evento_FC&#39;</span><span class="p">,</span> <span class="s1">&#39;Evento_FR&#39;</span><span class="p">,</span> <span class="s1">&#39;Evento_SPO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Evento_Temp&#39;</span>
<span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>


<span class="n">tabla_eventos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Evento_TAS</th>
      <th>Evento_TAD</th>
      <th>Evento_TAM</th>
      <th>Evento_FC</th>
      <th>Evento_FR</th>
      <th>Evento_SPO2</th>
      <th>Evento_Temp</th>
    </tr>
    <tr>
      <th>Paciente</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>9</td>
      <td>1</td>
      <td>0</td>
      <td>49</td>
      <td>9</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>49</td>
      <td>38</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>32</td>
      <td>5</td>
      <td>6</td>
      <td>26</td>
      <td>41</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>47</td>
      <td>3</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>11</td>
      <td>20</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>6</th>
      <td>9</td>
      <td>0</td>
      <td>0</td>
      <td>27</td>
      <td>38</td>
      <td>0</td>
      <td>9</td>
    </tr>
    <tr>
      <th>7</th>
      <td>16</td>
      <td>0</td>
      <td>1</td>
      <td>46</td>
      <td>10</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>48</td>
      <td>5</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>14</td>
      <td>30</td>
      <td>3</td>
      <td>18</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>43</td>
      <td>5</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>26</td>
      <td>10</td>
      <td>2</td>
      <td>8</td>
    </tr>
    <tr>
      <th>12</th>
      <td>6</td>
      <td>2</td>
      <td>1</td>
      <td>43</td>
      <td>16</td>
      <td>1</td>
      <td>12</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>49</td>
      <td>10</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>14</th>
      <td>10</td>
      <td>1</td>
      <td>1</td>
      <td>47</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>15</th>
      <td>14</td>
      <td>0</td>
      <td>0</td>
      <td>14</td>
      <td>4</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>16</th>
      <td>28</td>
      <td>4</td>
      <td>5</td>
      <td>26</td>
      <td>15</td>
      <td>9</td>
      <td>2</td>
    </tr>
    <tr>
      <th>17</th>
      <td>11</td>
      <td>3</td>
      <td>0</td>
      <td>49</td>
      <td>15</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>6</td>
      <td>12</td>
      <td>0</td>
      <td>24</td>
    </tr>
    <tr>
      <th>19</th>
      <td>27</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>19</td>
      <td>2</td>
      <td>25</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>31</td>
      <td>14</td>
      <td>4</td>
      <td>22</td>
    </tr>
    <tr>
      <th>21</th>
      <td>14</td>
      <td>4</td>
      <td>0</td>
      <td>39</td>
      <td>9</td>
      <td>2</td>
      <td>15</td>
    </tr>
    <tr>
      <th>22</th>
      <td>14</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>12</td>
      <td>9</td>
      <td>47</td>
    </tr>
    <tr>
      <th>23</th>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>42</td>
      <td>11</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>47</td>
      <td>6</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>46</td>
      <td>12</td>
      <td>0</td>
      <td>8</td>
    </tr>
    <tr>
      <th>26</th>
      <td>5</td>
      <td>4</td>
      <td>0</td>
      <td>41</td>
      <td>2</td>
      <td>2</td>
      <td>11</td>
    </tr>
    <tr>
      <th>27</th>
      <td>10</td>
      <td>0</td>
      <td>1</td>
      <td>34</td>
      <td>25</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>46</td>
      <td>10</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>29</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>10</td>
      <td>6</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>30</th>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>48</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">total_registros</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">num_eventos_por_fila</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">total_posibles_eventos</span> <span class="o">=</span> <span class="n">total_registros</span> <span class="o">*</span> <span class="n">num_eventos_por_fila</span>

<span class="n">eventos_ocurridos</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAS&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAD&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_TAM&#39;</span><span class="p">]</span> <span class="o">+</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_FC&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_FR&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_SPO2&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Evento_Temp&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">eventos_no_ocurridos</span> <span class="o">=</span> <span class="n">total_posibles_eventos</span> <span class="o">-</span> <span class="n">eventos_ocurridos</span>

<span class="n">porc_ocurridos</span> <span class="o">=</span> <span class="p">(</span><span class="n">eventos_ocurridos</span> <span class="o">/</span> <span class="n">total_posibles_eventos</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">porc_no_ocurridos</span> <span class="o">=</span> <span class="p">(</span><span class="n">eventos_no_ocurridos</span> <span class="o">/</span> <span class="n">total_posibles_eventos</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔴 Eventos injuriantes que ocurrieron:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total: </span><span class="si">{</span><span class="n">eventos_ocurridos</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">porc_ocurridos</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🟢 Eventos sin alteraciones (no injuriantes):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total: </span><span class="si">{</span><span class="n">eventos_no_ocurridos</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">porc_no_ocurridos</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sa">f</span><span class="s1">&#39;Injuriosos (</span><span class="si">{</span><span class="n">eventos_ocurridos</span><span class="si">}</span><span class="s1"> / </span><span class="si">{</span><span class="n">porc_ocurridos</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%)&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;No injuriosos (</span><span class="si">{</span><span class="n">eventos_no_ocurridos</span><span class="si">}</span><span class="s1"> / </span><span class="si">{</span><span class="n">porc_no_ocurridos</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%)&#39;</span>
<span class="p">]</span>
<span class="n">sizes</span> <span class="o">=</span> <span class="p">[</span><span class="n">eventos_ocurridos</span><span class="p">,</span> <span class="n">eventos_no_ocurridos</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#e29578&#39;</span><span class="p">,</span> <span class="s1">&#39;#98c1d9&#39;</span><span class="p">]</span>  

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">sizes</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Eventos Injuriosos Totales&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>🔴 Eventos injuriantes que ocurrieron:
   Total: 2000 (19.44%)
🟢 Eventos sin alteraciones (no injuriantes):
   Total: 8290 (80.56%)
</pre></div>
</div>
<img alt="_images/eaefc588a0a294dac63b87a0f779d2e9e5c506258382c8d35086b35cd0540593.png" src="_images/eaefc588a0a294dac63b87a0f779d2e9e5c506258382c8d35086b35cd0540593.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#0077b6&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de la cantidad de eventos injuriantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Número de eventos injuriantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/20281f15d151dbbdce2d9d9a32750b8f80b32ff758bb7e6a921f4a6fec40791b.png" src="_images/20281f15d151dbbdce2d9d9a32750b8f80b32ff758bb7e6a921f4a6fec40791b.png" />
</div>
</div>
<p>Este es un histograma de el número de eventos injuriantes que se presentaron, se observa que la mayoría de las observaciones presentan entre 2 y 3 eventos injuriantes simultáneos etc etc….</p>
</section>
<section id="proporcion-de-tiempo-con-eventos-por-paciente">
<h1>Proporción de tiempo con eventos por paciente<a class="headerlink" href="#proporcion-de-tiempo-con-eventos-por-paciente" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">proporcion_paciente</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Paciente&#39;</span><span class="p">)[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">redondeado_paciente</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">proporcion_paciente</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">redondeado_paciente</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Paciente
1     100.0
2     100.0
3     100.0
4      98.0
5      55.1
6     100.0
7      98.0
8      98.0
9      83.7
10     91.8
11     81.6
12     95.9
13    100.0
14     98.0
15     59.2
16     95.9
17    100.0
18     59.2
19     87.8
20     91.8
21     91.8
22     95.9
23     91.8
24     98.0
25     98.0
26     91.8
27     98.0
28     98.0
29     32.7
30     98.0
Name: EventoInjuriante, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">redondeado_paciente</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#457b9d&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de la Proporción de Tiempo de Eventos Injuriantes por Paciente&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Porcentaje de eventos injuriantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Número de pacientes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0bba6ea8a3df10d3d2f1e841ef74c8e0bf4ef0a9ab1e691ae7f2133294aba91b.png" src="_images/0bba6ea8a3df10d3d2f1e841ef74c8e0bf4ef0a9ab1e691ae7f2133294aba91b.png" />
</div>
</div>
<p>Este histograma representa la distribución del porcentaje de tiempo en el que los pacientes presentaron eventos injuriantes durante el periodo de observación. Una proporción considerable de pacientes presentó eventos injuriantes durante la totalidad de las 48 horas etc etc …. …</p>
</section>
<section id="relacion-entre-eventos-injuriantes-y-escala-de-ranking-al-egreso">
<h1>Relación entre eventos injuriantes y escala de Ranking al egreso<a class="headerlink" href="#relacion-entre-eventos-injuriantes-y-escala-de-ranking-al-egreso" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Paciente&#39;, &#39;Horas&#39;, &#39;Tiempo&#39;, &#39;TAS&#39;, &#39;TAD&#39;, &#39;TAM&#39;, &#39;FR&#39;, &#39;FC&#39;, &#39;SPO2&#39;,
       &#39;T°&#39;, &#39;Tamaño derecho&#39;, &#39;Reacción derecha&#39;, &#39;Tamaño  Izquierdo&#39;,
       &#39;Reaccion Izquierda&#39;, &#39;PIC&#39;, &#39;Escala de glasgow&#39;, &#39;Escala de rass&#39;,
       &#39;Escala de ranking&#39;, &#39;medicación&#39;, &#39;Nombre del medicamento&#39;,
       &#39;EventoInjuriante&#39;, &#39;TotalEventosInjuriante&#39;, &#39;Evento_TAS&#39;,
       &#39;Evento_TAD&#39;, &#39;Evento_TAM&#39;, &#39;Evento_FC&#39;, &#39;Evento_FR&#39;, &#39;Evento_SPO2&#39;,
       &#39;Evento_Temp&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Eventos Injuriante por Escala de Ranking del Paciente&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Eventos Injuriante&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\KELLY\AppData\Local\Temp\ipykernel_29152\2999685864.py:3: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(data=df, x=&#39;Escala de ranking&#39;, y=&#39;TotalEventosInjuriante&#39;, palette=&#39;viridis&#39;)
</pre></div>
</div>
<img alt="_images/78a2fd99d20257256c98771eec9fbf40316af5df828110d35089a1a166000041.png" src="_images/78a2fd99d20257256c98771eec9fbf40316af5df828110d35089a1a166000041.png" />
</div>
</div>
<p>Este gráfico permite identificar si hay alguna tendencia en los eventos injuriantes conforme a la salida del paciente según la escala de ranking. Por ejemplo, si los pacientes con escala más alta (6) tienden a presentar más eventos injuriantes, o si hay alta dispersión dentro de cada categoría etc etc etc ….</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">kstest</span><span class="p">,</span> <span class="n">norm</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">media</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">])</span>
<span class="n">desv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">])</span>
<span class="n">stat</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">kstest</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">],</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">media</span><span class="p">,</span> <span class="n">desv</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;KS Estadístico = </span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">, p-valor = </span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Los datos son compatibles con una distribución normal.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Los datos no siguen distribución normal.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>KS Estadístico = 0.2984, p-valor = 0.0000
Los datos no siguen distribución normal.
</pre></div>
</div>
</div>
</div>
<section id="kruskall-para-diferencias-entre-grupos-segun-la-escala-de-ranking">
<h2>Kruskall para diferencias entre grupos segun la escala de ranking<a class="headerlink" href="#kruskall-para-diferencias-entre-grupos-segun-la-escala-de-ranking" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">kruskal</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">grupos</span> <span class="o">=</span> <span class="p">[</span><span class="n">grupo</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">grupo</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">)]</span>
<span class="n">stat</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">kruskal</span><span class="p">(</span><span class="o">*</span><span class="n">grupos</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kruskal-Wallis - Estadístico H: </span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Kruskal-Wallis - Estadístico H: 17.42560292133569
Valor p: 0.0037595096062601045
</pre></div>
</div>
</div>
</div>
<p>El valor p obtenido es 0.0038, lo cual es significativamente menor que 0.05. Esto indica que existen diferencias significativas en el promedio de eventos injuriantes entre los distintos niveles de la Escala de Ranking (de 0 a 6). Osea, el nivel de salida del paciente, según esta escala, influye en la cantidad de eventos injuriantes que presenta etc etc….</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.stats.multicomp</span> <span class="kn">import</span> <span class="n">pairwise_tukeyhsd</span>

<span class="n">tukey</span> <span class="o">=</span> <span class="n">pairwise_tukeyhsd</span><span class="p">(</span>
    <span class="n">endog</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">],</span>
    <span class="n">groups</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">],</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tukey</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Multiple Comparison of Means - Tukey HSD, FWER=0.05 
====================================================
group1 group2 meandiff p-adj   lower   upper  reject
----------------------------------------------------
     0      1  -0.0313 0.9977 -0.2294  0.1668  False
     0      3   0.4014 0.0154   0.048  0.7547   True
     0      4   0.0034    1.0 -0.1855  0.1923  False
     0      5   0.1395  0.284 -0.0494  0.3283  False
     0      6   0.1565 0.1697 -0.0324  0.3453  False
     1      3   0.4327 0.0077  0.0743   0.791   True
     1      4   0.0347 0.9962 -0.1634  0.2328  False
     1      5   0.1707 0.1369 -0.0273  0.3688  False
     1      6   0.1878 0.0748 -0.0103  0.3858  False
     3      4   -0.398 0.0168 -0.7513 -0.0446   True
     3      5  -0.2619 0.2798 -0.6152  0.0914  False
     3      6  -0.2449 0.3555 -0.5982  0.1084  False
     4      5   0.1361 0.3114 -0.0528  0.3249  False
     4      6   0.1531 0.1895 -0.0358  0.3419  False
     5      6    0.017 0.9998 -0.1718  0.2059  False
----------------------------------------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="eventos-con-la-hora">
<h1>Eventos con la Hora<a class="headerlink" href="#eventos-con-la-hora" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Horas&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d</span><span class="si">{2}</span><span class="s1">:\d</span><span class="si">{2}</span><span class="s1">:\d</span><span class="si">{2}</span><span class="s1">)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%H:%M:%S&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">time</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eventos_por_hora</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Hora&#39;</span><span class="p">)[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">eventos_por_hora</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hora
00:00:00    3
01:00:00    4
02:00:00    3
03:00:00    3
04:00:00    3
05:00:00    3
06:00:00    3
07:00:00    4
08:00:00    4
09:00:00    5
10:00:00    4
11:00:00    3
12:00:00    3
13:00:00    4
14:00:00    2
15:00:00    3
16:00:00    3
17:00:00    3
18:00:00    6
19:00:00    5
20:00:00    3
21:00:00    3
22:00:00    3
23:00:00    4
Name: TotalEventosInjuriante, dtype: int32
</pre></div>
</div>
</div>
</div>
<p>Aqui en esta tablita se ve el mayor numero de eventos injuriantes simultaneos que ocurrio por cada hora</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Horan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">eventos_por_hora</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Horan&#39;</span><span class="p">)[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">eventos_por_hora</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horan&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#6a1b9a&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total de eventos injuriantes por hora&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Hora del día&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad total de eventos injuriantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/045147610d962e246cb9165a3a124847ae463c366675feb02835a2329c4c2a40.png" src="_images/045147610d962e246cb9165a3a124847ae463c366675feb02835a2329c4c2a40.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horan&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Eventos Injuriante por Horas del dia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Horas del dia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Eventos Injuriante&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\KELLY\AppData\Local\Temp\ipykernel_29152\2427248382.py:2: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(data=df, x=&#39;Horan&#39;, y=&#39;TotalEventosInjuriante&#39;, palette=&#39;viridis&#39;)
</pre></div>
</div>
<img alt="_images/70362a4ef2fd48ee52078ced1b4537334f6c057525cbb27588bfd7872824fcc7.png" src="_images/70362a4ef2fd48ee52078ced1b4537334f6c057525cbb27588bfd7872824fcc7.png" />
</div>
</div>
<p>En general no se muestra una diferencia entre las horas, como si las horas no influyeran en la cantidad de eventos que pueda tener un paciente etc etc etc</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">kruskal</span>
<span class="n">grupos_hora</span> <span class="o">=</span> <span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">h</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()]</span>
<span class="n">kruskal_result</span> <span class="o">=</span> <span class="n">kruskal</span><span class="p">(</span><span class="o">*</span><span class="n">grupos_hora</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Kruskal-Wallis:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">kruskal_result</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Kruskal-Wallis:
KruskalResult(statistic=22.01197045827109, pvalue=0.519529211162266)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eventos_por_paciente_hora</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Paciente&#39;</span><span class="p">,</span> <span class="s1">&#39;Hora&#39;</span><span class="p">])[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">ranking_final</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Paciente&#39;</span><span class="p">)[</span><span class="s1">&#39;Escala de ranking&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">last</span><span class="p">()</span>
<span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">paciente</span><span class="p">,</span> <span class="n">grupo</span> <span class="ow">in</span> <span class="n">eventos_por_paciente_hora</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Paciente&#39;</span><span class="p">):</span>
    <span class="n">max_eventos</span> <span class="o">=</span> <span class="n">grupo</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">horas_max</span> <span class="o">=</span> <span class="n">grupo</span><span class="p">[</span><span class="n">grupo</span><span class="p">[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_eventos</span><span class="p">][</span><span class="s1">&#39;Hora&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s1">&#39;Paciente&#39;</span><span class="p">:</span> <span class="n">paciente</span><span class="p">,</span>
        <span class="s1">&#39;Hora(s) pico&#39;</span><span class="p">:</span> <span class="n">horas_max</span><span class="p">,</span>
        <span class="s1">&#39;Máx eventos en esa hora&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_eventos</span><span class="p">),</span>
        <span class="s1">&#39;Escala de Ranking&#39;</span><span class="p">:</span> <span class="n">ranking_final</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">paciente</span><span class="p">]</span>
    <span class="p">})</span>
<span class="n">df_resultados</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">resultados</span><span class="p">)</span>
<span class="n">df_resultados</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Paciente</th>
      <th>Hora(s) pico</th>
      <th>Máx eventos en esa hora</th>
      <th>Escala de Ranking</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>[16:00:00]</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>[23:00:00]</td>
      <td>6</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>[18:00:00]</td>
      <td>10</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>[18:00:00]</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>[04:00:00, 08:00:00, 18:00:00]</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>[07:00:00]</td>
      <td>7</td>
      <td>3</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>[03:00:00]</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>[20:00:00, 21:00:00]</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>[16:00:00]</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>[10:00:00, 11:00:00, 12:00:00, 16:00:00, 18:00...</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>[00:00:00]</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>[05:00:00, 08:00:00, 16:00:00]</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>[06:00:00, 12:00:00, 17:00:00]</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>14</td>
      <td>[01:00:00]</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>14</th>
      <td>15</td>
      <td>[01:00:00, 05:00:00]</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>15</th>
      <td>16</td>
      <td>[09:00:00]</td>
      <td>7</td>
      <td>6</td>
    </tr>
    <tr>
      <th>16</th>
      <td>17</td>
      <td>[19:00:00]</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <th>17</th>
      <td>18</td>
      <td>[12:00:00]</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <th>18</th>
      <td>19</td>
      <td>[08:00:00, 20:00:00]</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>19</th>
      <td>20</td>
      <td>[01:00:00]</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>20</th>
      <td>21</td>
      <td>[23:00:00]</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>21</th>
      <td>22</td>
      <td>[00:00:00, 05:00:00, 23:00:00]</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>22</th>
      <td>23</td>
      <td>[01:00:00, 15:00:00]</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>24</td>
      <td>[10:00:00]</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>25</td>
      <td>[15:00:00, 22:00:00]</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>26</td>
      <td>[00:00:00]</td>
      <td>6</td>
      <td>4</td>
    </tr>
    <tr>
      <th>26</th>
      <td>27</td>
      <td>[01:00:00, 06:00:00, 21:00:00]</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>27</th>
      <td>28</td>
      <td>[02:00:00, 10:00:00, 12:00:00, 17:00:00, 20:00...</td>
      <td>4</td>
      <td>6</td>
    </tr>
    <tr>
      <th>28</th>
      <td>29</td>
      <td>[13:00:00]</td>
      <td>3</td>
      <td>6</td>
    </tr>
    <tr>
      <th>29</th>
      <td>30</td>
      <td>[08:00:00, 15:00:00]</td>
      <td>4</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="relacion-entre-eventos-injuriantes-y-medicacion">
<h1>Relación entre eventos injuriantes y medicación<a class="headerlink" href="#relacion-entre-eventos-injuriantes-y-medicacion" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eventos_medicacion</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;medicación&#39;</span><span class="p">)[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">eventos_medicacion</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>medicación
1    0.880000
2    0.897727
Name: EventoInjuriante, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>En esta tablita se muesta la probabilidad de eventos injuriantes por medicacion, en este caso no hay mucha diferencia entre ambas disminuye muy poco la probabilidad si hay medicamento</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">mannwhitneyu</span>
<span class="n">grupo_med_si</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;medicación&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span>
<span class="n">grupo_med_no</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;medicación&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span>
<span class="n">stat</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">mannwhitneyu</span><span class="p">(</span><span class="n">grupo_med_si</span><span class="p">,</span> <span class="n">grupo_med_no</span><span class="p">,</span> <span class="n">alternative</span><span class="o">=</span><span class="s1">&#39;two-sided&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Estadístico U:&quot;</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p-valor:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadístico U: 99069.0
p-valor: 0.987827696618016
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">graficar_eventos_por_hora_paciente</span><span class="p">(</span><span class="n">paciente_id</span><span class="p">):</span>
    <span class="n">df_paciente</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente &#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">paciente_id</span><span class="p">]</span>

    <span class="n">eventos_por_hora</span> <span class="o">=</span> <span class="n">df_paciente</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Horan&#39;</span><span class="p">)[</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">eventos_por_hora</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horan&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;EventoInjuriante&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Eventos injuriantes por hora - Paciente </span><span class="si">{</span><span class="n">paciente_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Hora del día&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de eventos injuriantes&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pacientes_unicos</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">paciente</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pacientes_unicos</span><span class="p">[:</span><span class="mi">30</span><span class="p">]):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="n">df_paciente</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">paciente</span><span class="p">]</span>
    <span class="n">eventos_por_hora</span> <span class="o">=</span> <span class="n">df_paciente</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Horan&#39;</span><span class="p">)[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">eventos_por_hora</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horan&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Paciente </span><span class="si">{</span><span class="n">paciente</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">24</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Hora&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Eventos&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pacientes_unicos</span><span class="p">),</span> <span class="mi">30</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Eventos injuriantes por hora para cada paciente&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/47c548c5375e14a6fc19912771057ec475a1f52327ce386e856673defb3f122f.png" src="_images/47c548c5375e14a6fc19912771057ec475a1f52327ce386e856673defb3f122f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Pacientes específicos</span>
<span class="n">pacientes_seleccionados</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">]</span>

<span class="c1"># Crear la figura y ejes (2 gráficos en 1 fila o columna)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">paciente</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pacientes_seleccionados</span><span class="p">):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="n">df_paciente</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">paciente</span><span class="p">]</span>
    <span class="n">eventos_por_hora</span> <span class="o">=</span> <span class="n">df_paciente</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Horan&#39;</span><span class="p">)[</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">eventos_por_hora</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horan&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Paciente </span><span class="si">{</span><span class="n">paciente</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Hora&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Eventos injuriantes&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Eventos injuriantes por hora para Pacientes 3 y 29&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2ff78b5c79c42a5a32f06dfc1acd1408336848789efd4c52888c6c597c9e3389.png" src="_images/2ff78b5c79c42a5a32f06dfc1acd1408336848789efd4c52888c6c597c9e3389.png" />
</div>
</div>
<p>Estos son 30 gráficos de líneas (5 filas × 6 columnas), donde cada gráfico corresponde a un paciente individual. Se representa la cantidad de eventos injuriantes registrados en cada hora del día, El eje X (el horizontal)  muestra las horas (de 0 a 23) y el eje Y indica la frecuencia de eventos injuriantes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Tiempo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;(\d+)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Colores para la medicación</span>
<span class="n">colores</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;#8a3ab9&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;#f39c12&#39;</span><span class="p">}</span>

<span class="c1"># Lista de pacientes</span>
<span class="n">pacientes</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">graficar_pacientes</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">,</span> <span class="n">titulo_general</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">paciente</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">sub_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">paciente</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sub_df</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">],</span> <span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">]]</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">],</span> <span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]]</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">colores</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;medicación&#39;</span><span class="p">],</span> <span class="s1">&#39;#cccccc&#39;</span><span class="p">)</span>  <span class="c1"># Color por defecto si hay error</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Paciente </span><span class="si">{</span><span class="n">paciente</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (horas)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Eventos Injur.&#39;</span><span class="p">)</span>

    <span class="c1"># Eliminar ejes vacíos si hay menos de 15</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)):</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">titulo_general</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.03</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Primeros 15 pacientes</span>
<span class="n">graficar_pacientes</span><span class="p">(</span><span class="n">pacientes</span><span class="p">[:</span><span class="mi">15</span><span class="p">],</span> <span class="s1">&#39;Eventos injuriantes - Pacientes 1 al 15&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c3aa585d870f756a7dfec7571a69cf2e578940a4ec5ea7ea21586c03877bb719.png" src="_images/c3aa585d870f756a7dfec7571a69cf2e578940a4ec5ea7ea21586c03877bb719.png" />
</div>
</div>
<p>Morado: con medicación, Naranja: sin medicación</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graficar_pacientes</span><span class="p">(</span><span class="n">pacientes</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">30</span><span class="p">],</span> <span class="s1">&#39;Eventos injuriantes - Pacientes 16 al 30&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/42b9091fc57aa8eea9f49f8e33694cd3266638ed00d6bbec54456023645d0549.png" src="_images/42b9091fc57aa8eea9f49f8e33694cd3266638ed00d6bbec54456023645d0549.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graficar_pacientes</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">],</span> <span class="s1">&#39;Eventos injuriantes - Pacientes 3 y 29&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/59bbc576a1c051e9068fe3c63fb517f562339453a920962710e3b5244f2dfe71.png" src="_images/59bbc576a1c051e9068fe3c63fb517f562339453a920962710e3b5244f2dfe71.png" />
</div>
</div>
<p>Estos gráficos son para observar la evolución de los eventos injuriantes por paciente a lo largo del tiempo (ojo no es la hora del reloj, son las 49 horas de registro del paciente).</p>
<p>Cada gráfico representa a un paciente individual y muestra cómo varía la cantidad de eventos con respecto al tiempo que paso hozpitalizado, diferenciando con colores si el paciente recibió medicación (morado) o no (naranja) en cada intervalo.</p>
<p>Recalco que <strong>no habia diferencia significativa con la medicación</strong> por las pruebas que se realizaron, pero de igual lo coloque para que vieran el comportamiento de cada paciente</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">graficar_pacientes</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">,</span> <span class="n">titulo_general</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">paciente</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">sub_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Paciente&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">paciente</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sub_df</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">],</span> <span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">]]</span>
            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">],</span> <span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;TotalEventosInjuriante&#39;</span><span class="p">]]</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">colores</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sub_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;medicación&#39;</span><span class="p">],</span> <span class="s1">&#39;#cccccc&#39;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Paciente </span><span class="si">{</span><span class="n">paciente</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (horas)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Eventos Injur.&#39;</span><span class="p">)</span>

        <span class="c1"># Asegurar que los ticks del eje X estén de 10 en 10 horas</span>
        <span class="n">min_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">sub_df</span><span class="p">[</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()))</span>
        <span class="n">max_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">sub_df</span><span class="p">[</span><span class="s1">&#39;TiempoNum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>

        <span class="c1"># Configurar los ticks de 10 en 10 horas</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">min_time</span><span class="p">,</span> <span class="n">max_time</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

    <span class="c1"># Eliminar ejes vacíos si hay menos de 15</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pacientes_subset</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)):</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">titulo_general</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.03</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graficar_pacientes</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">],</span> <span class="s1">&#39;Eventos injuriantes - Pacientes 3 y 29&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b3a0b06e0036d9b03751ee6af9277dbd0d5ef5bc54531b23b7d4ceb0a143163b.png" src="_images/b3a0b06e0036d9b03751ee6af9277dbd0d5ef5bc54531b23b7d4ceb0a143163b.png" />
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Analisis de eventos injuriantes</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Proporción general de eventos injuriantes</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cantidad-de-eventos-simultaneos">Cantidad de eventos simultaneos</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proporcion-de-tiempo-con-eventos-por-paciente">Proporción de tiempo con eventos por paciente</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-eventos-injuriantes-y-escala-de-ranking-al-egreso">Relación entre eventos injuriantes y escala de Ranking al egreso</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kruskall-para-diferencias-entre-grupos-segun-la-escala-de-ranking">Kruskall para diferencias entre grupos segun la escala de ranking</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventos-con-la-hora">Eventos con la Hora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relacion-entre-eventos-injuriantes-y-medicacion">Relación entre eventos injuriantes y medicación</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kelly B
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>